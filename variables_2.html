<html>

    <head>
        <title>Variables 2 in JavaScript</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        
        <div id="left-explanation">
            <h1 style="margin: 0px;">Variables 2</h1>
            <p>In this tutorial you'll learn about the basics of integer operations.</p>

            <h2>Explanation</h2>
            <p>Javascript has a basic arithmetic math operations such as:</p>
                <ol>
                    <li>"<code>+</code>"  --> addition</li>
                    <li>"<code>-</code>"  --> subtraction</li>
                    <li>"<code>*</code>"  --> multiplication</li>
                    <li>"<code>/</code>"  --> division</li>
                </ol>
            
            <h2>Usage</h2>
            <p>These symbols are used to make simple, yet effective, integer operations.</p>

            <h2>Task</h2>
            <ol>
                <li>Create the variable "<code>a</code>", with the value 4. Print it to the console.</li>
                <li>Create the variable "<code>b</code>", with the value 8. Print it to the console.</li>
                <li>Create the variable "<code>x</code>", and assign <code>a + b</code> to it. Print it to the console.</li>
                <li>Modify "<code>x</code>" to contain "<code>a - b</code>" to it. Print it to the console.</li>
                <li>Modify "<code>x</code>" to contain "<code>a * b</code>" to it. Print it to the console.</li>
                <li>Modify "<code>x</code>" to contain "<code>a / b</code>" to it. Print it to the console.</li>
            </ol>


        </div>

        <div id="right-editor">
        
            <textarea id="codearea" cols="80" rows="50" placeholder="Code goes here...">/* Write your code here. */</textarea><br>
            <textarea id="resultarea" cols="80" rows="10" placeholder="Result shows up here..." readonly>The result of your program will show up here.</textarea><br>
            <button onClick="runCode()" id="gobutton">Run Code</button>
            <p id="resulttext"></p>
        
        </div>

        <script>

let codeArea = document.getElementById("codearea");
let resultArea = document.getElementById("resultarea");
let resultText = document.getElementById("resulttext");

/* Hooked console.log writes to this */
let results;
let variablesCorrect;

function runCode() {

    /* Get code. */
    let code = codeArea.value;

    /* Reset results. */
    results = [];
    resultArea.value = "";
    variablesCorrect = false;
    resultArea.style.color = "#ffffff";

    /* Hook into console.log */
    console.oldLog = console.log;
    console.log = function(value) {
        results.push(value);
        resultArea.value += value + "\n";
    }

    /* Verify variables */
    code += "\nif(a == 4 && b == 8 && x == a / b) variablesCorrect = true";

    /* Run code */
    try {
        
        /* Evaluate the code. */
        eval(code);

    } catch(exception) {

        /* Exception, exit early. */
        resultArea.value = exception;    
        resultText.innerHTML = "Your code had an error. Try again.";
        resultArea.style.color = "#ff0000";
        return;
    
    }

    if(!variablesCorrect) {
        resultText.innerHTML = "You didn't set the variables to the right variables.";
        return;
    }

    /* Verify results. */
    if(results.length > 5) {
        if(results[0] === 4 && results[1] === 8 && results[2] === 12 && results[3] === -4 && results[4] === 32 && results[5] === 0.5) {
            resultText.innerHTML = "Good job! You did it!!";
        } else {
            resultText.innerHTML = "You printed the wrong thing.";
        }
    } else {
        resultText.innerHTML = "You didn't print anything...";
    }

}

        </script>
        <script src="tabfix.js"></script>
    
    </body>

</html>